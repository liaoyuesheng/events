{"version":3,"file":"events.esm.js","sources":["../src/index.ts"],"sourcesContent":["type Listener = (...args:any[]) => void\n\ntype Listeners = Listener[]\n\ninterface EventsObject {\n  [key: string]: Listeners\n}\n\nfunction checkListener(listener) {\n  const listenerType = typeof listener\n\n  if (listenerType !== 'function') {\n    throw new TypeError(`The \"listener\" argument must be of type Function. Received type ${listenerType}`)\n  }\n}\n\nexport default class Events {\n  private _events: EventsObject = {}\n\n  public on(eventName: string, listener: Listener, prepend = false): Events {\n    checkListener(listener)\n\n    if (!this._events[eventName]) {\n      this._events[eventName] = []\n    }\n\n    const listeners = this._events[eventName]\n\n    if (prepend) {\n      listeners.unshift(listener)\n    } else {\n      listeners.push(listener)\n    }\n\n    return this\n  }\n\n  public off(eventName: string, listener?: Listener): Events {\n    const listeners = this._events[eventName]\n\n    if (!listeners) return this\n\n    if (listener) {\n      checkListener(listener)\n\n      this._events[eventName] = listeners.filter((currentListener) => {\n        return currentListener !== listener\n      })\n    } else {\n      this._events[eventName] = []\n    }\n\n    return this\n  }\n\n  public once(eventName: string, listener: Listener, prepend = false): Events {\n    checkListener(listener)\n\n    const proxyListener = (...args) => {\n      this.off(eventName, proxyListener)\n      listener.apply(this, args)\n    }\n\n    return this.on(eventName, proxyListener, prepend)\n  }\n\n  public emit(eventName: string, ...args: any[]): boolean {\n    const listeners = this._events[eventName]\n\n    if (!listeners || !listeners.length) {\n      return false\n    }\n\n    listeners.forEach((listener) => {\n      listener.apply(this, args)\n    })\n\n    return true\n  }\n}\n"],"names":[],"mappings":";;AAQA,SAAS,aAAa,CAAC,QAAQ;IAC7B,MAAM,YAAY,GAAG,OAAO,QAAQ,CAAA;IAEpC,IAAI,YAAY,KAAK,UAAU,EAAE;QAC/B,MAAM,IAAI,SAAS,CAAC,mEAAmE,YAAY,EAAE,CAAC,CAAA;KACvG;AACH,CAAC;MAEoB,MAAM;IAA3B;QACU,YAAO,GAAiB,EAAE,CAAA;KA8DnC;IA5DQ,EAAE,CAAC,SAAiB,EAAE,QAAkB,EAAE,OAAO,GAAG,KAAK;QAC9D,aAAa,CAAC,QAAQ,CAAC,CAAA;QAEvB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;YAC5B,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,EAAE,CAAA;SAC7B;QAED,MAAM,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAA;QAEzC,IAAI,OAAO,EAAE;YACX,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAA;SAC5B;aAAM;YACL,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;SACzB;QAED,OAAO,IAAI,CAAA;KACZ;IAEM,GAAG,CAAC,SAAiB,EAAE,QAAmB;QAC/C,MAAM,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAA;QAEzC,IAAI,CAAC,SAAS;YAAE,OAAO,IAAI,CAAA;QAE3B,IAAI,QAAQ,EAAE;YACZ,aAAa,CAAC,QAAQ,CAAC,CAAA;YAEvB,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,eAAe;gBACzD,OAAO,eAAe,KAAK,QAAQ,CAAA;aACpC,CAAC,CAAA;SACH;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,EAAE,CAAA;SAC7B;QAED,OAAO,IAAI,CAAA;KACZ;IAEM,IAAI,CAAC,SAAiB,EAAE,QAAkB,EAAE,OAAO,GAAG,KAAK;QAChE,aAAa,CAAC,QAAQ,CAAC,CAAA;QAEvB,MAAM,aAAa,GAAG,CAAC,GAAG,IAAI;YAC5B,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,aAAa,CAAC,CAAA;YAClC,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;SAC3B,CAAA;QAED,OAAO,IAAI,CAAC,EAAE,CAAC,SAAS,EAAE,aAAa,EAAE,OAAO,CAAC,CAAA;KAClD;IAEM,IAAI,CAAC,SAAiB,EAAE,GAAG,IAAW;QAC3C,MAAM,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAA;QAEzC,IAAI,CAAC,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;YACnC,OAAO,KAAK,CAAA;SACb;QAED,SAAS,CAAC,OAAO,CAAC,CAAC,QAAQ;YACzB,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;SAC3B,CAAC,CAAA;QAEF,OAAO,IAAI,CAAA;KACZ;;;;;"}